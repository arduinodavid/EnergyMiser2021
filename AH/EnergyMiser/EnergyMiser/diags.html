<!DOCTYPE html><html>	<head>		<title>Energy Miser</title>		<meta name="viewport" content="width=device-width, initial-scale=1">		<link rel="stylesheet" type="text/css" href="style.css">	</head>	<body>		<div class="topnav">			<h1>Energy Miser (v%version%)</h1>		</div>		<ul>			<li><a href="/">Home</a></li>			<li><a href="/chart">Chart</a></li>			<li><a href="/settings">Settings</a></li>			<li><a href="/log">Logs</a></li>			<li><a href="/upload">Uploader</a></li>		</ul>		<h2>			<span id="state"><strong>%onoff%</strong></span>		</h2>		<h3>			<a href="/poweron"><button class="button">ON</button></a>			<a><button onclick="confirmOff()" class="button button2">OFF</button></a>		</h3>				<p>		<h3>			<span id="machineState"></span>		</h3>		</p>		<p>		<h3>			loadNow: <span id="loadNow"></span>		</h3>		</p>				<p>		<table style = "margin-left:auto;margin-right:auto;">			<tr>				<td style = "text-align:right">					<form action = "/set">						threshold: </td>				<td style = "width:20"><input type="text" name="threshold" value=%threshold% size="4"></td>				<td style = "width:20"><a><button onclick="confirmSet()" class="button button-set">Set</button></a></td>				</form>			</tr>						<tr>				<td style = "text-align:right">					<form action = "/set">						Start delay time (mins): </td>				<td style = "width:20"><input type="number" min="1" max="30"					name="startdelay" value="%startdelay%" size="4"></td>				<td style = "width:20"><a><button class="button button-set">Set</button></a></td>				</form>			</tr>			<tr>				<td style = "text-align:right">					<form action = "/set">						End delay time (mins): </td>				<td style = "width:20"><input type="number" min="1" max="30"					name="enddelay" value="%enddelay%" size="4"></td>				<td style = "width:20"><a><button class="button button-set">Set</button></a></td>				</form>			</tr>		</table>		</p>		<div class="topnav">			<h2>Monitor Output</h2>			<h2><span id="time"></span></h2>		</div>		<div style="font-family: 'Courier New', monospace;text-align: left;  width:90%; margin:auto;" 		<span id="msg"></span> 		</div>			</body>		<script>		function confirmOff() {			if (confirm("Do you really want to turn power OFF?")) {				window.location.replace("/poweroff");			}		}		function confirmSet() {			if (confirm("Do you really want to set the threshold?")) {				window.location.replace("/set");			}		}		if (!!window.EventSource) {			var source = new EventSource('/events');						source.addEventListener('state', function(e) {				document.getElementById("state").innerHTML = e.data;							}, false);						source.addEventListener('loadNow', function(e) {				document.getElementById("loadNow").innerHTML = e.data;							}, false);						source.addEventListener('machineState', function(e) {				document.getElementById("machineState").innerHTML = e.data;							}, false);		 			source.addEventListener('msg', function(e) {				document.getElementById("msg").innerHTML += e.data + '<br>';								document.getElementById('msg').scrollIntoView(false);			}, false);		}	</script></html>